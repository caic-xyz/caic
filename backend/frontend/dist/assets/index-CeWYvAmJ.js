(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Be=!1,Me=(e,t)=>e===t,Oe=Symbol("solid-track"),le={equals:Me};let we=Ce;const X=1,ie=2,ke={owned:null,cleanups:null,context:null,owner:null};var C=null;let de=null,Ne=null,A=null,P=null,K=null,fe=0;function re(e,t){const n=A,s=C,r=e.length===0,l=t===void 0?s:t,o=r?ke:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=r?e:()=>e(()=>Q(()=>ee(o)));C=o,A=null;try{return ne(i,!0)}finally{A=n,C=s}}function H(e,t){t=t?Object.assign({},le,t):le;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),Ae(n,r));return[Te.bind(n),s]}function v(e,t,n){const s=_e(e,t,!1,X);te(s)}function Se(e,t,n){we=Ue;const s=_e(e,t,!1,X);s.user=!0,K?K.push(s):te(s)}function D(e,t,n){n=n?Object.assign({},le,n):le;const s=_e(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,te(s),Te.bind(s)}function Q(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function Fe(e){Se(()=>Q(e))}function xe(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function Re(e){const t=D(e),n=D(()=>ge(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Te(){if(this.sources&&this.state)if(this.state===X)te(this);else{const e=P;P=null,ne(()=>ae(this),!1),P=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function Ae(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ne(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],o=de&&de.running;o&&de.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?P.push(l):K.push(l),l.observers&&Ee(l)),o||(l.state=X)}if(P.length>1e6)throw P=[],new Error},!1)),t}function te(e){if(!e.fn)return;ee(e);const t=fe;Ge(e,e.value,t)}function Ge(e,t,n){let s;const r=C,l=A;A=C=e;try{s=e.fn(t)}catch(o){return e.pure&&(e.state=X,e.owned&&e.owned.forEach(ee),e.owned=null),e.updatedAt=n+1,Ie(o)}finally{A=l,C=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ae(e,s):e.value=s,e.updatedAt=n)}function _e(e,t,n,s=X,r){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==ke&&(C.owned?C.owned.push(l):C.owned=[l]),l}function oe(e){if(e.state===0)return;if(e.state===ie)return ae(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<fe);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===X)te(e);else if(e.state===ie){const s=P;P=null,ne(()=>ae(e,t[0]),!1),P=s}}function ne(e,t){if(P)return e();let n=!1;t||(P=[]),K?n=!0:K=[],fe++;try{const s=e();return De(n),s}catch(s){n||(K=null),P=null,Ie(s)}}function De(e){if(P&&(Ce(P),P=null),e)return;const t=K;K=null,t.length&&ne(()=>we(t),!1)}function Ce(e){for(let t=0;t<e.length;t++)oe(e[t])}function Ue(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:oe(s)}for(t=0;t<n;t++)oe(e[t])}function ae(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===X?s!==t&&(!s.updatedAt||s.updatedAt<fe)&&oe(s):r===ie&&ae(s,t)}}}function Ee(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ie,n.pure?P.push(n):K.push(n),n.observers&&Ee(n))}}function ee(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),o=n.observerSlots.pop();s<r.length&&(l.sourceSlots[o]=s,r[s]=l,n.observerSlots[s]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ee(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ee(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function je(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ie(e,t=C){throw je(e)}function ge(e){if(typeof e=="function"&&!e.length)return ge(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=ge(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}const Ve=Symbol("fallback");function be(e){for(let t=0;t<e.length;t++)e[t]()}function He(e,t,n={}){let s=[],r=[],l=[],o=0,i=t.length>1?[]:null;return xe(()=>be(l)),()=>{let c=e()||[],f=c.length,d,u;return c[Oe],Q(()=>{let I,F,k,$,B,x,S,T,m;if(f===0)o!==0&&(be(l),l=[],s=[],r=[],o=0,i&&(i=[])),n.fallback&&(s=[Ve],r[0]=re(M=>(l[0]=M,n.fallback())),o=1);else if(o===0){for(r=new Array(f),u=0;u<f;u++)s[u]=c[u],r[u]=re(O);o=f}else{for(k=new Array(f),$=new Array(f),i&&(B=new Array(f)),x=0,S=Math.min(o,f);x<S&&s[x]===c[x];x++);for(S=o-1,T=f-1;S>=x&&T>=x&&s[S]===c[T];S--,T--)k[T]=r[S],$[T]=l[S],i&&(B[T]=i[S]);for(I=new Map,F=new Array(T+1),u=T;u>=x;u--)m=c[u],d=I.get(m),F[u]=d===void 0?-1:d,I.set(m,u);for(d=x;d<=S;d++)m=s[d],u=I.get(m),u!==void 0&&u!==-1?(k[u]=r[d],$[u]=l[d],i&&(B[u]=i[d]),u=F[u],I.set(m,u)):l[d]();for(u=x;u<f;u++)u in k?(r[u]=k[u],l[u]=$[u],i&&(i[u]=B[u],i[u](u))):r[u]=re(O);r=r.slice(0,o=f),s=c.slice(0)}return r});function O(I){if(l[u]=I,i){const[F,k]=H(u);return i[u]=k,t(c[u],F)}return t(c[u])}}}function y(e,t){return Q(()=>e(t||{}))}const Le=e=>`Stale read from <${e}>.`;function ue(e){const t="fallback"in e&&{fallback:()=>e.fallback};return D(He(()=>e.each,e.children,t||void 0))}function N(e){const t=e.keyed,n=D(()=>e.when,void 0,void 0),s=t?n:D(n,void 0,{equals:(r,l)=>!r==!l});return D(()=>{const r=s();if(r){const l=e.children;return typeof l=="function"&&l.length>0?Q(()=>l(t?r:()=>{if(!Q(s))throw Le("Show");return n()})):l}return e.fallback},void 0,void 0)}function qe(e){const t=Re(()=>e.children),n=D(()=>{const s=t(),r=Array.isArray(s)?s:[s];let l=()=>{};for(let o=0;o<r.length;o++){const i=o,c=r[o],f=l,d=D(()=>f()?void 0:c.when,void 0,void 0),u=c.keyed?d:D(d,void 0,{equals:(O,I)=>!O==!I});l=()=>f()||(u()?[i,d,c]:void 0)}return l});return D(()=>{const s=n()();if(!s)return e.fallback;const[r,l,o]=s,i=o.children;return typeof i=="function"&&i.length>0?Q(()=>i(o.keyed?l():()=>{var f;if(((f=Q(n)())==null?void 0:f[0])!==r)throw Le("Match");return l()})):i},void 0,void 0)}function z(e){return e}const We=e=>D(()=>e());function Je(e,t,n){let s=n.length,r=t.length,l=s,o=0,i=0,c=t[r-1].nextSibling,f=null;for(;o<r||i<l;){if(t[o]===n[i]){o++,i++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===o){const d=l<s?i?n[i-1].nextSibling:n[l-i]:c;for(;i<l;)e.insertBefore(n[i++],d)}else if(l===i)for(;o<r;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[i]===t[r-1]){const d=t[--r].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--l],d),t[r]=n[l]}else{if(!f){f=new Map;let u=i;for(;u<l;)f.set(n[u],u++)}const d=f.get(t[o]);if(d!=null)if(i<d&&d<l){let u=o,O=1,I;for(;++u<r&&u<l&&!((I=f.get(t[u]))==null||I!==d+O);)O++;if(O>d-i){const F=t[o];for(;i<d;)e.insertBefore(n[i++],F)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const me="_$DX_DELEGATE";function Ke(e,t,n,s={}){let r;return re(l=>{r=l,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function E(e,t,n,s){let r;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},o=()=>(r||(r=l())).cloneNode(!0);return o.cloneNode=o,o}function Pe(e,t=window.document){const n=t[me]||(t[me]=new Set);for(let s=0,r=e.length;s<r;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,Qe))}}function p(e,t){t==null?e.removeAttribute("class"):e.className=t}function ve(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function g(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ce(e,t,s,n);v(r=>ce(e,t(),r,n),s)}function Qe(e){let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,l=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),o=()=>{const c=t[n];if(c&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?c.call(t,f,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();l(c[0]);for(let f=0;f<c.length-2&&(t=c[f],!!o());f++){if(t._$host){t=t._$host,i();break}if(t.parentNode===r)break}}else i();l(s)}function ce(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(o){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=Y(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=Y(e,n,s);else{if(l==="function")return v(()=>{let i=t();for(;typeof i=="function";)i=i();n=ce(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(pe(i,t,n,r))return v(()=>n=ce(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=Y(e,n,s),o)return n}else c?n.length===0?ye(e,i,s):Je(e,n,i):(n&&Y(e),ye(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=Y(e,n,s,t);Y(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function pe(e,t,n,s){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],c=n&&n[e.length],f;if(!(i==null||i===!0||i===!1))if((f=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=pe(e,i,c)||r;else if(f==="function")if(s){for(;typeof i=="function";)i=i();r=pe(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return r}function ye(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function Y(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const c=i.parentNode===e;!l&&!o?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}class Xe extends Error{constructor(t,n,s){super(n),this.status=t,this.code=n,this.details=s}}async function q(e,t,n){const s={method:e,headers:{"Content-Type":"application/json"}};n!==void 0&&(s.body=JSON.stringify(n));const r=await fetch(t,s);if(!r.ok){const l=await r.json();throw new Xe(r.status,l.error.code,l.details)}return r.json()}function Ye(){return q("GET","/api/v1/repos")}function Ze(){return q("GET","/api/v1/tasks")}function ze(e){return q("POST","/api/v1/tasks",e)}function et(e){return new EventSource(`/api/v1/tasks/${e}/events`)}function tt(e,t){return q("POST",`/api/v1/tasks/${e}/input`,t)}function nt(e){return q("POST",`/api/v1/tasks/${e}/finish`)}function st(e){return q("POST",`/api/v1/tasks/${e}/end`)}function rt(e){return q("POST",`/api/v1/tasks/${e}/pull`)}function lt(e){return q("POST",`/api/v1/tasks/${e}/push`)}function it(e){return q("POST",`/api/v1/tasks/${e}/reconnect`)}function ot(e){return q("POST",`/api/v1/tasks/${e}/takeover`)}const at="_container_p7pf0_3",ut="_header_p7pf0_9",ct="_closeBtn_p7pf0_20",ft="_messageArea_p7pf0_24",dt="_placeholder_p7pf0_35",ht="_inputForm_p7pf0_39",gt="_textInput_p7pf0_45",pt="_btn_p7pf0_50",_t="_btnGray_p7pf0_58",bt="_btnGreen_p7pf0_62",mt="_btnRed_p7pf0_66",vt="_systemInit_p7pf0_70",yt="_systemMsg_p7pf0_76",$t="_assistantMsg_p7pf0_82",wt="_textBlock_p7pf0_86",kt="_result_p7pf0_91",St="_resultSuccess_p7pf0_98",xt="_resultError_p7pf0_102",Tt="_resultMeta_p7pf0_106",At="_resultText_p7pf0_112",Ct="_toolResult_p7pf0_117",Et="_toolBlock_p7pf0_127",It="_toolBlockPre_p7pf0_139",b={container:at,header:ut,closeBtn:ct,messageArea:ft,placeholder:dt,inputForm:ht,textInput:gt,btn:pt,btnGray:_t,btnGreen:bt,btnRed:mt,systemInit:vt,systemMsg:yt,assistantMsg:$t,textBlock:wt,result:kt,resultSuccess:St,resultError:xt,resultMeta:Tt,resultText:At,toolResult:Ct,toolBlock:Et,toolBlockPre:It};var Lt=E("<p>Waiting for agent output..."),Pt=E("<button type=button>Finish"),Bt=E("<button type=button>Reconnect"),Mt=E("<button type=button>Takeover"),Ot=E('<form><input type=text placeholder="Send message to agent..."><button type=submit>Send</button><button type=button>Pull</button><button type=button>Push</button><button type=button>End'),Nt=E("<div><div><h3>Task #</h3><button>Close</button></div><div>"),Ft=E("<div>Session started &middot; <!> &middot; "),Rt=E("<div>[<!>]"),he=E("<div>"),Gt=E("<div>$<!> &middot; <!>s &middot; <!> turns"),Dt=E("<div><strong>"),Ut=E("<details><summary>tool result"),jt=E("<details><summary></summary><pre>");function Vt(e){const[t,n]=H([]),[s,r]=H(""),[l,o]=H(!1);Se(()=>{const $=e.taskId;n([]);const B=et($);B.addEventListener("message",x=>{try{const S=JSON.parse(x.data);n(T=>[...T,S])}catch{}}),xe(()=>B.close())});async function i(){const $=s().trim();if($){o(!0);try{await tt(e.taskId,{prompt:$}),r("")}finally{o(!1)}}}const c=()=>{const $=e.taskState;return $==="running"||$==="starting"||$==="waiting"},f=()=>e.taskState==="waiting";async function d(){await nt(e.taskId)}async function u(){await rt(e.taskId)}async function O(){await lt(e.taskId)}async function I(){await st(e.taskId)}async function F(){await it(e.taskId)}async function k(){await ot(e.taskId)}return(()=>{var $=Nt(),B=$.firstChild,x=B.firstChild;x.firstChild;var S=x.nextSibling,T=B.nextSibling;return g(x,()=>e.taskId,null),S.$$click=()=>e.onClose(),g(T,y(ue,{get each(){return t()},children:m=>y(Ht,{msg:m})}),null),g(T,y(N,{get when(){return t().length===0},get children(){var m=Lt();return v(()=>p(m,b.placeholder)),m}}),null),g($,y(N,{get when(){return c()},get children(){var m=Ot(),M=m.firstChild,U=M.nextSibling,a=U.nextSibling,w=a.nextSibling,W=w.nextSibling;return m.addEventListener("submit",h=>{h.preventDefault(),i()}),M.$$input=h=>r(h.currentTarget.value),a.$$click=()=>u(),w.$$click=()=>O(),g(m,y(N,{get when(){return f()},get children(){return[(()=>{var h=Pt();return h.$$click=()=>d(),v(()=>p(h,`${b.btn} ${b.btnGreen}`)),h})(),(()=>{var h=Bt();return h.$$click=()=>F(),v(()=>p(h,`${b.btn} ${b.btnGray}`)),h})(),(()=>{var h=Mt();return h.$$click=()=>k(),v(()=>p(h,`${b.btn} ${b.btnGray}`)),h})()]}}),W),W.$$click=()=>I(),v(h=>{var J=b.inputForm,_=l(),j=b.textInput,R=l()||!s().trim(),V=`${b.btn} ${b.btnGray}`,G=`${b.btn} ${b.btnGray}`,Z=`${b.btn} ${b.btnRed}`;return J!==h.e&&p(m,h.e=J),_!==h.t&&(M.disabled=h.t=_),j!==h.a&&p(M,h.a=j),R!==h.o&&(U.disabled=h.o=R),V!==h.i&&p(a,h.i=V),G!==h.n&&p(w,h.n=G),Z!==h.s&&p(W,h.s=Z),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),v(()=>M.value=s()),m}}),null),v(m=>{var M=b.container,U=b.header,a=b.closeBtn,w=b.messageArea;return M!==m.e&&p($,m.e=M),U!==m.t&&p(B,m.t=U),a!==m.a&&p(S,m.a=a),w!==m.o&&p(T,m.o=w),m},{e:void 0,t:void 0,a:void 0,o:void 0}),$})()}function Ht(e){return y(qe,{get children(){return[y(z,{get when(){return We(()=>e.msg.type==="system")()&&e.msg.subtype==="init"},get children(){var t=Ft(),n=t.firstChild,s=n.nextSibling;return s.nextSibling,g(t,()=>e.msg.model,s),g(t,()=>e.msg.claude_code_version,null),v(()=>p(t,b.systemInit)),t}}),y(z,{get when(){return e.msg.type==="system"},get children(){var t=Rt(),n=t.firstChild,s=n.nextSibling;return s.nextSibling,g(t,()=>e.msg.subtype,s),v(()=>p(t,b.systemMsg)),t}}),y(z,{get when(){return e.msg.type==="assistant"},get children(){var t=he();return g(t,y(ue,{get each(){var n;return((n=e.msg.message)==null?void 0:n.content)??[]},children:n=>y(N,{get when(){return n.type==="text"},get fallback(){return y(qt,{get name(){return n.name??"tool"},get input(){return n.input}})},get children(){var s=he();return g(s,()=>n.text),v(()=>p(s,b.textBlock)),s}})})),v(()=>p(t,b.assistantMsg)),t}}),y(z,{get when(){return e.msg.type==="result"},get children(){var t=Dt(),n=t.firstChild;return g(n,()=>e.msg.is_error?"Error":"Done"),g(t,y(N,{get when(){return e.msg.result},get children(){var s=he();return g(s,()=>e.msg.result),v(()=>p(s,b.resultText)),s}}),null),g(t,y(N,{get when(){return e.msg.total_cost_usd},get children(){var s=Gt(),r=s.firstChild,l=r.nextSibling,o=l.nextSibling,i=o.nextSibling,c=i.nextSibling,f=c.nextSibling;return f.nextSibling,g(s,()=>{var d;return(d=e.msg.total_cost_usd)==null?void 0:d.toFixed(4)},l),g(s,()=>((e.msg.duration_ms??0)/1e3).toFixed(1),i),g(s,()=>e.msg.num_turns,f),v(()=>p(s,b.resultMeta)),s}}),null),v(()=>p(t,`${b.result} ${e.msg.is_error?b.resultError:b.resultSuccess}`)),t}}),y(z,{get when(){return e.msg.type==="user"},get children(){var t=Ut();return v(()=>p(t,b.toolResult)),t}})]}})}function qt(e){return(()=>{var t=jt(),n=t.firstChild,s=n.nextSibling;return g(n,()=>e.name),g(s,()=>JSON.stringify(e.input,null,2)),v(r=>{var l=b.toolBlock,o=b.toolBlockPre;return l!==r.e&&p(t,r.e=l),o!==r.t&&p(s,r.t=o),r},{e:void 0,t:void 0}),t})()}Pe(["click","input"]);const Wt="_app_otn3a_3",Jt="_submitForm_otn3a_10",Kt="_repoSelect_otn3a_17",Qt="_promptInput_otn3a_21",Xt="_layout_otn3a_26",Yt="_placeholder_otn3a_31",Zt="_taskCard_otn3a_35",zt="_taskCardSelected_otn3a_43",en="_taskHeader_otn3a_47",tn="_taskTitle_otn3a_52",nn="_stateBadge_otn3a_56",sn="_repoLabel_otn3a_62",rn="_branchLabel_otn3a_67",ln="_costLabel_otn3a_72",on="_errorLabel_otn3a_77",an="_detailPane_otn3a_82",L={app:Wt,submitForm:Jt,repoSelect:Kt,promptInput:Qt,layout:Xt,placeholder:Yt,taskCard:Zt,taskCardSelected:zt,taskHeader:en,taskTitle:tn,stateBadge:nn,repoLabel:sn,branchLabel:rn,costLabel:ln,errorLabel:on,detailPane:an};var un=E("<p>No tasks yet."),se=E("<div>"),cn=E('<div><h1>wmao</h1><p>Work my ass off. Manage coding agents.</p><form><select></select><input type=text placeholder="Describe a task..."><button type=submit></button></form><div><div><h2>Tasks'),fn=E("<option>"),dn=E("<span>$<!> &middot; <!>s"),hn=E("<div><div><strong></strong><span>");function gn(){const[e,t]=H(""),[n,s]=H([]),[r,l]=H(!1),[o,i]=H(null),[c,f]=H([]),[d,u]=H("");Fe(async()=>{const k=await Ye();f(k),k.length>0&&u(k[0].path)});async function O(){const k=e().trim(),$=d();if(!(!k||!$)){l(!0);try{const B=await ze({prompt:k,repo:$});t(""),await I(),i(B.id)}finally{l(!1)}}}async function I(){s(await Ze())}setInterval(I,5e3),I();const F=()=>{const k=o();return k===null?null:n().find($=>$.id===k)??null};return(()=>{var k=cn(),$=k.firstChild,B=$.nextSibling,x=B.nextSibling,S=x.firstChild,T=S.nextSibling,m=T.nextSibling,M=x.nextSibling,U=M.firstChild;return U.firstChild,x.addEventListener("submit",a=>{a.preventDefault(),O()}),S.addEventListener("change",a=>u(a.currentTarget.value)),g(S,y(ue,{get each(){return c()},children:a=>(()=>{var w=fn();return g(w,()=>a.path),v(()=>w.value=a.path),w})()})),T.$$input=a=>t(a.currentTarget.value),g(m,()=>r()?"Submitting...":"Run"),g(U,y(N,{get when(){return n().length===0},get children(){var a=un();return v(()=>p(a,L.placeholder)),a}}),null),g(U,y(ue,{get each(){return n()},children:a=>(()=>{var w=hn(),W=w.firstChild,h=W.firstChild,J=h.nextSibling;return w.$$click=()=>i(a.id),g(h,()=>a.task),g(J,()=>a.state),g(w,y(N,{get when(){return a.repo},get children(){var _=se();return g(_,()=>a.repo),v(()=>p(_,L.repoLabel)),_}}),null),g(w,y(N,{get when(){return a.branch},get children(){var _=se();return g(_,()=>a.branch),v(()=>p(_,L.branchLabel)),_}}),null),g(w,y(N,{get when(){return a.costUSD>0},get children(){var _=dn(),j=_.firstChild,R=j.nextSibling,V=R.nextSibling,G=V.nextSibling;return G.nextSibling,g(_,()=>a.costUSD.toFixed(4),R),g(_,()=>(a.durationMs/1e3).toFixed(1),G),v(()=>p(_,L.costLabel)),_}}),null),g(w,y(N,{get when(){return a.error},get children(){var _=se();return g(_,()=>a.error),v(()=>p(_,L.errorLabel)),_}}),null),v(_=>{var j=`${L.taskCard} ${o()===a.id?L.taskCardSelected:""}`,R=L.taskHeader,V=L.taskTitle,G=L.stateBadge,Z=pn(a.state);return j!==_.e&&p(w,_.e=j),R!==_.t&&p(W,_.t=R),V!==_.a&&p(h,_.a=V),G!==_.o&&p(J,_.o=G),Z!==_.i&&ve(J,"background",_.i=Z),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w})()}),null),g(M,y(N,{get when(){return o()!==null},get children(){var a=se();return g(a,y(Vt,{get taskId(){return o()??0},get taskState(){var w;return((w=F())==null?void 0:w.state)??"pending"},onClose:()=>i(null)})),v(()=>p(a,L.detailPane)),a}}),null),v(a=>{var w=L.app,W=L.submitForm,h=r(),J=L.repoSelect,_=r(),j=L.promptInput,R=r()||!e().trim()||!d(),V=L.layout,G=o()!==null?"0 0 340px":"1";return w!==a.e&&p(k,a.e=w),W!==a.t&&p(x,a.t=W),h!==a.a&&(S.disabled=a.a=h),J!==a.o&&p(S,a.o=J),_!==a.i&&(T.disabled=a.i=_),j!==a.n&&p(T,a.n=j),R!==a.s&&(m.disabled=a.s=R),V!==a.h&&p(M,a.h=V),G!==a.r&&ve(U,"flex",a.r=G),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),v(()=>S.value=d()),v(()=>T.value=e()),k})()}function pn(e){switch(e){case"done":return"#d4edda";case"failed":return"#f8d7da";case"ended":return"#e2e3e5";default:return"#fff3cd"}}Pe(["input","click"]);const $e=document.getElementById("app");$e&&Ke(()=>y(gn,{}),$e);
